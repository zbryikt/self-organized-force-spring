var spline;spline={update:function(t,n){var p,r,u,o,h,s,e,i,f=[];for(p=this.computeControlPoints(r=function(){var n,p,r,o=[];for(n=0,r=(p=t).length;r>n;++n)u=p[n],o.push(u.x);return o}()),o=this.computeControlPoints(h=function(){var n,p,r,o=[];for(n=0,r=(p=t).length;r>n;++n)u=p[n],o.push(u.y);return o}()),s=0,e=n.length;e>s;++s)i=s,f.push(n[i].d=this.path(r[i],h[i],p.p1[i],o.p1[i],p.p2[i],o.p2[i],r[i+1],h[i+1]));return f},path:function(t,n,p,r,u,o,h,s){return"M "+t+" "+n+" C "+p+" "+r+" "+u+" "+o+" "+h+" "+s},computeControlPoints:function(t){var n,p,r,u,o,h,s,e,i,f,l,a;for(n=[[],[]],p=n[0],r=n[1],n=[[0],[2],[1],[t[0]+2*t[1]],t.length-1],u=n[0],o=n[1],h=n[2],s=n[3],e=n[4],i=1,f=e-1;f>i;++i)l=i,u.push(1),o.push(4),h.push(1),s.push(4*t[l]+2*t[l+1]);for(u.push(2),o.push(7),h.push(0),s.push(8*t[e-1]+t[e]),i=1;e>i;++i)l=i,a=u[l]/o[l-1],o[l]=o[l]-a*h[l-1],s[l]=s[l]-a*s[l-1];for(p[e-1]=s[e-1]/o[e-1],i=e-2;i>=0;--i)l=i,p[l]=(s[l]-h[l]*p[l+1])/o[l];for(i=0,f=e-1;f>i;++i)l=i,r[l]=2*t[l+1]-p[l+1];return r[e-1]=(t[e]+p[e-1])/2,{p1:p,p2:r}}};